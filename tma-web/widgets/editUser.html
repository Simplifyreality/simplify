<div class="modal-dialog">
	<div class="modal-content">
		<div class="modal-header" ng-switch="user.isNewUser">
		    <h3 ng-switch-when="true">Add a User</h3>
			<h3 ng-switch-default>Edit User: {{user.username}}</h3>
		</div>
		<div class="modal-body">
			<div class="alert alert-danger" ng-show="isValidationError">
				<p>There were validation errors. Please correct them and try again</p>
			</div>
			<div class="alert alert-danger" ng-show="isGenericError">
				<p>There was a problem communicating with the server. Please try again and if the problem persists contact your administrator.</p>
			</div>
			<form role="form" class="form-horizontal">
				<!-- Username -->
				<div class="form-group" ng-class="{'has-error': errors.username}">
					<label class="control-label col-lg-3" for="username">Username</label>
					<div class="col-lg-9">
						<input type="text" class="form-control" ng-model="user.username" id="username">
						<div class="help-block" ng-show="errors.username">{{errors.username}}</div>
					</div>
				</div>
				<!-- name -->
				<div class="form-group" ng-class="{'has-error': errors.name}">
					<label class="control-label col-lg-3" for="name">Name</label>
					<div class="col-lg-9">
						<input type="text" class="form-control" ng-model="user.name" id="name">
						<div class="help-block" ng-show="errors.name">{{errors.name}}</div>
					</div>
				</div>
				<!-- email -->
				<div class="form-group" ng-class="{'has-error': errors.email}">
					<label class="control-label col-lg-3" for="email">Email Address</label>
					<div class="col-lg-9">
						<input type="text" class="form-control" ng-model="user.email">
						<div class="help-block" ng-show="errors.email">{{errors.email}}</div>
					</div>
				</div>
				<div class="form-group" ng-class="{'has-error': errors.roles}">
					<label class="control-label col-lg-3">Roles</label>
					<div class="col-lg-9">
						<div class="checkbox" ng-repeat="r in roles">
							<label>
								<input type="checkbox" ng-model="r.checked" ng-checked="r.checked"> {{r.name}}
							</label>
						</div>
						<div class="help-block" ng-show="errors.roles">{{errors.roles}}</div>
					</div>
				</div>
			</form>
		</div>
		<div class="modal-footer">
		    <button class="btn btn-primary" ng-click="ok()">OK</button>
		    <button class="btn btn-warning" ng-click="cancel()">Cancel</button>
		</div>
	</div>
</div>