<div class="row">
	<div class="small-12 medium-12 large-12 columns">
		<a ng-href="#{{viewAll}}"><i class="fa fa-caret-left"></i> {{'faults.details.backLink' | translate}}</a>
	</div>
</div>

<!-- TODO: Header needs to be dynamic -->
<header>
	<div class="row mt-15">
		<div class="small-12 medium-12 large-12 columns">
			<h1>Fault - {{fault.equipmentCategory}} - {{fault.date | date:['dd-MM-yyyy']}}</h1>
		</div>
	</div>
</header>

<div class="row mt-15">
	<div class="small-12 medium-12 large-12 columns flexbox-va">
		<header>
			<h2 class="faults-header" translate="faults.details.title"></h2>
		</header>
	</div>
</div>

<!-- Start Key -->
<div class="row mt-15 flexbox-va" ng-show="fault.depeche">
	<div class="small-12 medium-12 large-12 columns flexbox-va">
		<span class="left status depeche"></span> <span translate="faults.status.depeche"></span>
	</div>
</div>
<!-- End Key -->

<!-- Start fault details table -->
<!-- TODO: Content needs to be dynamic -->
<div class="fault-details-table mt-15">
	<table width="100%">
		<thead>
			<tr>
				<th translate="faults.details.table.dateReported"></th>
				<th translate="faults.details.table.status"></th>
				<th translate="faults.details.table.setNumber"></th>
                <th translate="faults.details.table.trainNumber"></th>
                <th translate="faults.details.table.tmName"></th>
				<th translate="faults.details.table.coachNumber"></th>
				<th translate="faults.details.table.area"></th>
				<th translate="faults.details.table.side"></th>
				<th translate="faults.details.table.equipment"></th>
				<th translate="faults.details.table.condition"></th>
				<th translate="faults.details.table.priority"></th>
			</tr>
		</thead>
		<tbody>
			<tr no-show="{f.depeche}">
				<td>{{fault.date | date:['dd-MM-yyyy']}}</td>
				<td>{{fault.assignmentStatus}}</td>
				<td>{{fault.halfSet}}</td>
                <td>{{fault.trainNumber}}</td>
                <td>{{fault.tmName}}</td>
				<td>{{fault.coach}}</td>
				<td>{{fault.area}}</td>
				<td>{{fault.areaSide}}</td>
				<td>{{fault.equipmentCategory}} &gt; {{fault.equipmentSubcategory}}</td>
				<td>{{fault.condition}}</td>
				<td>{{fault.assignmentPriority}}</td>
			</tr>
		</tbody>
	</table>
</div>
<!-- End fault details table -->

<!-- Start fault attachments -->
<div class="fault-attachments mt-15">
	<div class="row">
		<div class="small-12 medium-12 large-12 columns">
			<header>
				<h3 class="faults-subheader" translate="faults.details.attachments.title"></h3>
			</header>
		</div>
	</div>
	<div class="row mt-15">
		<div class="small-12 medium-12 large-12 columns">
			<ul class="no-bullet">
				<li ng-repeat="p in fault.photos"><a href="{{api}}/photos/{{p}}" target="_blank"><img src="{{api}}/photos/{{p}}" width="150" /></a></li>
			</ul>
		</div>
	</div>

</div>
<!-- End fault attachments -->

<!-- Start Fault Comments -->
<div class="fault-comments mt-15">
	<div class="row">
		<div class="small-12 medium-12 large-12 columns">
			<header>
				<h3 class="faults-subheader" translate="faults.details.tmComments.title"></h3>
			</header>
		</div>
	</div>
<!-- 	<div class="row mt-15">
		<div class="small-12 medium-12 columns">
			{{'faults.details.tmComments.reportedBy' | translate}}: Jane Smith (jane.s)
		</div>
		<div class="small-12 medium-12 columns">
			{{'faults.details.tmComments.reportedOn' | translate}}: 12/11/13 13:03
		</div>
	</div> -->
	<div class="row mt-15">
		<div class="small-12 medium-12 large-12 columns">{{fault.additionalInfo}}</div>

	</div>
</div>
<!-- End Fault Comments -->

<!-- Start Assignment Details section -->
<div class="assignment-details mt-15">
	<div class="row">
		<div class="small-12 medium-12 large-12 columns">
			<header>
				<h2 class="faults-header" translate="faults.details.assignmentDetails.title"></h2>
			</header>
		</div>
	</div>
	<form class="custom">
		<div class="row mt-15">
			<div class="small-8 medium-6 large-4 columns">
				<div class="row">
					<div class="small-4 medium-4 large-4 columns">
						<label for="assigned-depot" class="inline" translate="faults.details.assignmentDetails.assignedDepot"></label>
					</div>
					<div class="small-8 medium-8 large-8 columns">
						<label class="inline" ng-show="!hasPermission('ROLE_FAULTS_WRITE')">{{fault.assignedDepot}}</label>
						<div form-select select-values="depots" ng-model="faultStatus.assignedDepot"  ng-show="hasPermission('ROLE_FAULTS_WRITE')"></div>
					</div>
				</div>
			</div>
		</div>
		<div class="row">
			<div class="small-8 medium-6 large-4 columns">
				<div class="row">
					<div class="small-4 medium-4 large-4 columns">
						<label for="fault-priority" class="inline" translate="faults.details.assignmentDetails.priority"></label>
					</div>
					<div class="small-8 medium-8 large-8 columns">
						<label class="inline" ng-show="!hasPermission('ROLE_FAULTS_WRITE')">{{fault.assignmentPriority}}</label>
						<div form-select select-values="priority" ng-model="faultStatus.priority" ng-show="hasPermission('ROLE_FAULTS_WRITE')"></div>
					</div>
				</div>
			</div>
		</div>
		<div class="row">
			<div class="small-8 medium-6 large-4 columns">
				<div class="row">
					<div class="small-4 medium-4 large-4 columns">
						<label for="fault-status" class="inline" translate="faults.details.assignmentDetails.status"></label>
					</div>
					<div class="small-8 medium-8 large-8 columns">
						<label class="inline" ng-show="!hasPermission('ROLE_FAULTS_WRITE')">{{fault.assignmentStatus}}</label>
						<div form-select select-values="status" ng-model="faultStatus.status" ng-show="hasPermission('ROLE_FAULTS_WRITE')"></div>
					</div>
				</div>
			</div>
		</div>
	</form>
</div>
<!-- End Assignment Details section -->

<!-- Start Depot Comments -->
<div class="depot-comments mt-15">
	<header>
		<div class="row">
			<div class="small-12 medium-12 large-12 columns flexbox-va">
				<h2 class="faults-header" translate="faults.details.depotComments.title"></h2>
			</div>
		</div>
	</header>

    <div class="row mt-15">
		<div class="small-12 medium-12 large-12 columns">
            <a editable-textarea="fault.depotComment" e-ng-model="faultStatus.depotComments" e-rows="7" e-cols="40">
                <pre>{{ fault.depotComment || 'faults.details.depotComments.addComment.placeholder' | translate }}<br/><i style="color:#999;font-size:11px;">( Click for editing )</i></pre>
            </a>
		</div>
	</div>
</div>
<!-- End Depot Comments -->

<div class="row mt-15">
	<div class="small-12 medium-12 large-12 columns flexbox-h-end">
		<span class="right"><a href="" class="button radius small margin-reset" translate="faults.details.save" ng-click="save()"></a></span>
	</div>
</div>
