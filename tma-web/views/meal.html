<header>
	<div class="row">
		<div class="small-12 medium-12 large-12 columns">
			<h1 class="left mr-20">Boarding/Meal</h1>
			<span class="left">
                <a href="" class="button radius mr-8" ng-click="showFilterModal()">
                    <i class="fa fa-filter"></i> {{'journeys.filters' | translate}}</a>
                <a download href="{{exportUrl()}}" class="button radius margin-reset">
                    <i class="fa fa-table"></i> {{'journeys.details.export' | translate}}</a>
            </span>
		</div>
	</div>
</header>

<div class="row flexbox-va mt-15 ng-scope">
	<div class="small-12 medium-12 large-12 columns">
		<span class="filter-tag" ng-show="options.dateFrom">
			<span class="left">{{'filter.dateFrom' | translate}}: {{options.dateFrom}}</span>
			<a href="" ng-click="removeSelectedFilter('dateFrom')" class="right close"><i class="fa fa-times-circle"></i></a>
		</span>
		<span class="filter-tag" ng-show="options.dateTo">
			<span class="left">{{'filter.dateTo' | translate}}: {{options.dateTo}}</span>
			<a href="" ng-click="removeSelectedFilter('dateTo')" class="right close"><i class="fa fa-times-circle"></i></a>
		</span>
		<span class="filter-tag" ng-show="options.trainNumbers" ng-repeat="t in options.trainNumbers">
			<span class="left">{{'filter.title.trainNumber' | translate}}: {{t}}</span>
			<a href="" ng-click="removeSelectedFilter('trainNumbers', t)" class="right close"><i class="fa fa-times-circle"></i></a>
		</span>
		<span class="filter-tag" ng-show="options.setNumbers" ng-repeat="t in options.setNumbers">
			<span class="left">{{'filter.title.setNumber' | translate}}: {{t}}</span>
			<a href="" ng-click="removeSelectedFilter('setNumbers', t)" class="right close"><i class="fa fa-times-circle"></i></a>
		</span>
		<span class="filter-tag" ng-show="options.status" ng-repeat="t in options.status">
			<span class="left">{{'filter.title.status' | translate}}: {{t}}</span>
			<a href="" ng-click="removeSelectedFilter('status', t)" class="right close"><i class="fa fa-times-circle"></i></a>
		</span>
	</div>
</div>

<div class="row mt-15">
	<div class="small-12 medium-12 large-12 columns">
		<!-- Start JL result table -->
		<div class="journey-log-result-table">
			<table width="450px" ng-init="list()">
				<thead>
					<tr>
						<th translate="journeys.table.trainNumber"></th>
						<th translate="journeys.table.date"></th>
						<th></th>
					</tr>
				</thead>
				<tbody>
					<tr ng-repeat="b in results.content">
						<td>
							<span>{{b.trainNumber}}</span>
						</td>
						<td>{{b.journeyDate | date:['dd-MM-yyyy']}}</td>
						<td>
							<a href="#/boarding/{{b.id}}">View</a>
						</td>
					</tr>
				</tbody>
			</table>
		</div>
		<!-- End JL result table -->
		<div pagination content="results" callback="changePage"></div>
	</div>
</div>

<!-- filter modal -->
<div class="overlay" ng-show="showFilters"></div>
<div class="row" id="journey-filters" ng-show="showFilters">
	<div class="small-4 medium-3 large-2 columns filter-nav off-canvas">
		<!-- Start header -->
		<div class="row">
			<div class="small-12 medium-12 large-12 columns">
				<a href="" class="right close-button" ng-click="hideFilterModal()"><i class="fa fa-times"></i></a>
			</div>
		</div>
		<div class="row flexbox-va">
			<div class="small-12 medium-12 large-12 columns">
				<header>
					<h2 translate="filter.title"></h2>
				</header>
			</div>
		</div>
		<!-- End header -->

		<!-- Start Accordion -->
		<div class="section-container accordion">
			<!-- Start Date Range -->
			<section ng-class="{active : filterView == 'dateFrom'}">
				<p class="title" data-section-title>
					<a href="" ng-click="switchFilterView('dateFrom')" class="filter-heading" translate="filter.title.dateRange"></a>
				</p>
				<div class="content" data-section-content>
					<div class="row filter-options">
						<div class="small-4 medium-4 large-3 columns">
							<label for="date-from" class="inline left" translate="filter.dateFrom"></label>
						</div>
						<div class="small-8 medium-8 large-9 columns">
							<input type="text" id="date-from" ng-model="filters.dateFrom" placeholder="{{'filter.dateFrom.placeholder' | translate}}" data-date-format="dd-mm-yyyy">
						</div>
					</div>
					<div class="row filter-options">
						<div class="small-4 medium-4 large-3 columns">
							<label for="date-to" class="inline left" translate="filter.dateTo"></label>
						</div>
						<div class="small-8 medium-8 large-9 columns">
							<input type="text" id="date-to" ng-model="filters.dateTo" placeholder="{{'filter.dateTo.placeholder' | translate}}" data-date-format="dd-mm-yyyy">
						</div>
					</div>
				</div>
			</section>
			<!-- End Date Range -->
			<!-- Start Train no. -->
			<section ng-class="{active : filterView == 'trainNumber'}">
				<p class="title" data-section-title>
					<a href="" ng-click="switchFilterView('trainNumber');" class="filter-heading" translate="filter.title.trainNumber"></a>
				</p>
				<div class="content" data-section-content>
					<div class="row filter-options">
						<div class="small-9 medium-9 large-9 columns">
							<input type="text" id="train-number" ng-model="trainNumberToAdd" placeholder="{{'filter.trainNumber.placeholder' | translate}}">
						</div>
						<div class="small-3 medium-3 large-3 columns">
							<a href="" class="button radius right margin-reset" ng-click="addFilter('trainNumbers', 'trainNumberToAdd')"><i class="fa fa-plus"></i> {{filter.button.add | translate}}</a>
						</div>
					</div>
					<!-- Start display of selected filters -->
					<div class="row filter-selections flexbox-va">
						<span class="filter-tag" ng-repeat="t in filters.trainNumbers">
							<span class="left">{{t}}</span>
							<a href="" ng-click="removeFilter('trainNumbers', t)" class="right close"><i class="fa fa-times-circle"></i></a>
						</span>
					</div>
					<!-- End display of selected filters -->
				</div>
			</section>
			<!-- End train no. -->
		</div>
		<!-- End Accordion -->
		<!-- Start Apply button -->
		<div class="row mt-15">
			<div class="small-12 medium-12 large-12 columns flexbox-h-end">
				<a href="" class="button radius right margin-reset" translate="filter.button.apply" ng-click="applyFilters()"></a>
			</div>
		</div>
		<!-- End Apply button -->
	</div>
</div>